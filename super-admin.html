<!DOCTYPE html>
<html lang="en">

<head>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
   <meta http-equiv="X-UA-Compatible" content="ie=edge" />


   <meta name="description"
      content="POSBOK - A powerful Inventory and POS management system designed for businesses to track Warehouse levels, monitor POS transactions (withdrawals, deposits, transfers), and evaluate staff performance â€” all in one intuitive platform." />

   <script src="authGuard.js"></script>

   <link
      href="https://fonts.googleapis.com/css?family=Josefin+Sans:300,400,400i,600|Nunito:300,300i,400,600&display=swap"
      rel="stylesheet" />

   <link href="https://fonts.googleapis.com/css2?family=Inter+Tight:wght@400;500;600;700&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="css/style.css" />

   <script src="https://kit.fontawesome.com/d0cbf0cdf0.js" crossorigin="anonymous"></script>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
   <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
   <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>

   <script defer src="https://unpkg.com/smoothscroll-polyfill@0.4.4/dist/smoothscroll.min.js"></script>

   <!-- JsBarcode CDN -->
   <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.6/dist/JsBarcode.all.min.js"></script>

   <!-- ApexCharts CDN -->
   <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>


   <!-- <script defer type="module" src="JS/script.js"></script>
   <script defer type="module" src="JS/goods.js"></script> -->

   <!-- <script src="dist/main.bundle.js" defer></script> -->
   <script src="dist/superAdmin.bundle.js" defer></script>

   <title>POSBOK &mdash; Super Admin</title>
   <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
   <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
   <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
   <link rel="manifest" href="/site.webmanifest">
</head>

<body class="container">


   <nav class="sidebar collapsed">
      <div class="sidebar-fixed">

         <div class="sidebar-header">
            <a href="/index.html" class="sidebar-header-link">
               <img src="img/logo.png" alt="Logo" class="sidebar-header-logo" />

            </a>

            <!-- Collapse/Expand Button -->
            <button class="sidebar-toggle" id="sidebarToggle">
               <i class="fas fa-bars"></i>
            </button>
         </div>

         <ul class="side-nav">
            <a href="/super-admin.html" class="side-nav_link" id="businessManagementNav">
               <li class="side-nav_item active">
                  <i class="fa-solid fa-shield-alt icon"></i>
                  <span>Bus. Management</span>
               </li>
            </a>
         </ul>
      </div>
   </nav>

   <main class="main">
      <header class="main-heading card">
         <div class="main-heading_intro">

            <div>
               <a href="/index.html">
                  <img src="img/logo-mini.png" alt="Logo" class="main-heading_logo" />
               </a>
            </div>

            <h2 class="main-welcome">Welcome Back, <span class="user-name"> </span></h2>
         </div>

         <div class="main-heading_left">
            <button class="hero-btn-dark logoutButton">LOGOUT</button>

            <div class="profileIconDiv mr-2">

               <i class="fa-solid fa-circle-user main-heading-profile--image"></i>
            </div>
         </div>
      </header>

      <section class=" superAdmin reports-section platformStatisticsSection mb-4">
         <h1 class="heading-text mt-4 mb-4">Platform Statistics</h1>

         <div class="platform-summary">
            <div class="summary-card">
               <i class="fa-solid fa-building icon mb-1"></i>
               <h2>Total Businesses</h2>
               <p class="value" id="totalBusinesses">--</p>
            </div>

            <div class="summary-card">
               <i class="fa-solid fa-bolt icon mb-1"></i>
               <h2>Active Subscriptions</h2>
               <p class="value" id="activeSubscriptions">--</p>
            </div>

            <div class="summary-card">
               <i class="fa-solid fa-clock icon mb-1"></i>
               <h2> Expired Subscriptions</h2>
               <p class="value" id="expiredSubscriptions">--</p>
            </div>

            <div class="summary-card">
               <i class="fa-solid fa-user-lock icon mb-1"></i>
               <h2>Restricted Businesses</h2>
               <p class="value" id="restrictedBusinesses">--</p>
            </div>

            <div class="summary-card">
               <i class="fa-solid fa-clipboard-list icon mb-1"></i>
               <h2>Registered Only</h2>
               <p class="value" id="registeredOnly">--</p>
            </div>

            <div class="summary-card">
               <i class="fa-solid fa-user-plus icon mb-1"></i>
               <h2>Recent Registerations</h2>
               <p class="value" id="recentRegisterations">--</p>
            </div>
         </div>

         <div class="business-type">
            <h2 class="heading-subtext mt-4 mb-2">Business Type</h2>
            <div id="businessTypeChart" class="chart">
               <p class="heading-subtext">Loading...</p>
            </div>
         </div>

         <div class="platform-trends">
            <h2 class="heading-subtext mt-4 mb-2">Trends</h2>
            <div id="monthlySignupsChart" class="chart">
               <p class="heading-subtext">Loading...</p>
            </div>
         </div>
      </section>

      <!-- Super Admin Busnesses Table -->
      <section class="superAdmin card">
         <div class="superAdmin-method">
            <h2 class="heading-text mb-2">
               Business Management
            </h2>


            <div class="filter-section mb-2">

               <div class="pos-method-form_input ">

                  <label for="businessStatusFilter">Business Status:</label>

                  <select id="businessStatusFilter" name="businessStatusFilter">
                     <option value="">All</option>
                     <option value="active_subscriptions">Active</option>
                     <option value="expired_subscriptions">Expired/Unsubscribed</option>
                     <option value="restricted_businesses">Restricted Businesses</option>
                     <option value="registered_only">Registered Only</option>
                  </select>
               </div>


               <div class="filter-buttons">
                  <button id="applyBusinessStatusFilter_superAdmin" class="hero-btn-dark">Apply Filters</button>

                  <button id="resetBusinessStatusFilter_superAdmin" class="hero-btn-outline">Reset</button>
               </div>

            </div>

            <div class="superAdmin-table-container">
               <table class="reports-table superAdmin-businesses-table">
                  <thead>
                     <tr class="table-header-row">
                        <th class="py-1">S/N</th>
                        <th class="py-1">Business Name</th>
                        <th class="py-1">Business Type</th>
                        <th class="py-1">Subscription Status</th>
                        <th class="py-1">Active Status</th>
                        <th class="py-1">Shop Count</th>
                        <th class="py-1">Staff Size</th>
                        <th class="py-1">Phone Number</th>
                        <th class="py-1">State</th>
                        <th class="py-1">Address</th>
                        <th class="py-1">Date Created</th>
                        <th class="py-1">Action</th>
                     </tr>
                  </thead>

                  <tbody class="allBusinessesTableBody">



                     <tr class="table-body-row loading-row" id="item-list">
                        <td class="py-1 " colspan="11">Loading All Businesses...</td>

                     </tr>



                  </tbody>
               </table>


               <div id="loadMoreButtonDiv_superAdmin" class=" center-button mt-2">

                  <button id="loadMoreButton_superAdmin" class=" hero-btn-dark load-more-button">Load
                     More</button>
               </div>





            </div>
         </div>
      </section>

   </main>

   <div id="toast" class="toast ">
      <h4 class="toast-message heading-subtext center-text mb-2">This is a toast message!</h4>

      <!-- <p id="stockName" class="hidden"></p>
      <p id="stockId" class="hidden"></p>
      <p id="stockBarcode" class="hidden"></p>

      <img id="barcode" class="mt-1 hidden" />


      <div class="toast-actions center-button mt-2 " style="display: none; align-items: center; gap: 1.5rem;">
         <button class="hero-btn-dark download-barcode has-spinner force-m-0">
            <span class="btn-text">Download</span>
            <span class="btn-spinner hidden"></span>
         </button>

         <button class="hero-btn-dark close-toast_barcode has-spinner force-m-0">
            <span class="btn-text">Close</span>
            <span class="btn-spinner hidden"></span>
         </button>
      </div>

      <button class="close-toast hero-btn-dark mt-2 mr-0 default-close">Okay</button> -->

   </div>

   <div id="global-loader" class="loader-overlay hidden">
      <div class="spinner"></div>
   </div>

   <!-- Activate Business Subscription Modal -->
   <form class="modal-form activateBusinessContainerModal " name="modal">

      <div class="card confirmation activateBusinessContainer modal ">
         <div>
            <h1 class="heading-text ">Activate Business Subscription</h1>
         </div>

         <h1 class="business-name-text center-text heading-subtext">Business Name Here
         </h1>


         <div class="modal-form_input">
            <label for="subscriptionDuration">Subscription Duration</label>

            <input id="subscriptionDuration" type="number" pattern="[0-9]" inputmode="numeric"
               placeholder="Number of Days" name="subscriptionDuration" required>
         </div>

         <div class="confirmation-btn_container">

            <button class="hero-btn-dark cancel-close">Cancel</button>

            <button class="hero-btn-dark activateBusinessButton  mt-2 has-spinner" type="submit">
               <span class="btn-text">Activate Subscription</span>
               <span class="btn-spinner hidden"></span>
            </button>


         </div>

         <div class="close closeModal" id="">&times;</div>
      </div>
   </form>

   <!--  Modal -->
   <form class="modal-form actiateBusinessContainerModal " name="modal">

      <div class="card confirmation activateBuinessContainer modal ">
         <h1 class="confirmation-text">Are you sure you want to Delete <span id="confirmation-text-2"
               style="color: red;"></span> Category?
         </h1>

         <div class="confirmation-btn_container">

            <button class="hero-btn-dark cancel-close">Cancel</button>

            <button class="hero-btn-danger deleteCategoryButton  mt-2 has-spinner" type="submit">
               <span class="btn-text">Delete Category</span>
               <span class="btn-spinner hidden"></span>
            </button>


         </div>

         <div class="close closeModal" id="">&times;</div>
      </div>
   </form>

   <!-- Business Details Modal -->
   <div class="modal-form businessDetailModal businessDetailModalContainer" name="modal">
      <div class="card businessDetails modal ">
         <div class="reports mt-4 mb-4">
            <div class="reports-method">

               <div>
                  <h1 class="heading-text center mb-0" id="businessDetailName"></h1>
                  <h3 class="heading-minitext center mb-2 center-text" id="businessDetailAddress"></h3>
               </div>

               <h2 class="heading-minitext mb-1"><strong>Business ID:</strong> <span id="businessDetailId"></span></h2>
               <h2 class="heading-minitext mb-1"><strong>Phone:</strong> <span id="businessDetailPhone"></span></h2>
               <h2 class="heading-minitext mb-1"><strong>State:</strong> <span id="businessDetailState"></span></h2>
               <h2 class="heading-minitext mb-1"><strong>CAC Reg No:</strong> <span id="businessDetailCac"></span></h2>
               <h2 class="heading-minitext mb-1"><strong>Tax ID (TIN):</strong> <span id="businessDetailTin"></span>
               </h2>
               <h2 class="heading-minitext mb-1"><strong>NIN:</strong> <span id="businessDetailNin"></span></h2>
               <h2 class="heading-minitext mb-1"><strong>Business Type:</strong> <span id="businessDetailType"></span>
               </h2>
               <h2 class="heading-minitext mb-1"><strong>Staff Size:</strong> <span id="businessDetailStaffSize"></span>
               </h2>
               <h2 class="heading-minitext mb-1"><strong>Version Preference:</strong> <span
                     id="businessDetailVersion"></span></h2>
               <h2 class="heading-minitext mb-1"><strong>Active Status:</strong> <span id="businessDetailStatus"></span>
               </h2>
               <h2 class="heading-minitext mb-1"><strong>Date Created:</strong> <span
                     id="businessDetailCreatedAt"></span>
               </h2>
               <!-- <h2 class="heading-minitext mb-3"><strong>Last Updated:</strong> <span
                     id="businessDetailUpdatedAt"></span></h2> -->

               <div class="reports-table-container mt-2">
                  <h2 class="heading-subtext mb-1 center-text">Registered Shops (<span
                        id="businessDetailShopCount"></span>)</h2>

                  <table class="itemsTable reports-table">
                     <thead>
                        <tr class="table-header-row">
                           <th class="py-1">Shop ID</th>
                           <th class="py-1">Shop Name</th>
                           <th class="py-1">Location</th>
                           <th class="py-1">Created At</th>
                        </tr>
                     </thead>
                     <tbody id="businessDetailShopsBody">
                        <!-- JS injects shops here -->
                        <!-- Example:
              <tr class="table-body-row">
                <td class="py-1">98</td>
                <td class="py-1">Development Business Inc.</td>
                <td class="py-1">Okuokoko, Delta</td>
                <td class="py-1">2025-05-23</td>
              </tr>
              -->
                     </tbody>
                  </table>
               </div>

               <div class="subscription-section mt-3">
                  <h2 class="heading-subtext mb-1 center-text">Subscription Info</h2>
                  <h2 class="heading-minitext mb-1"><strong>Status:</strong> <span id="businessDetailSubStatus"></span>
                  </h2>
                  <h2 class="heading-minitext mb-1"><strong>Days Remaining:</strong> <span
                        id="businessDetailSubDays"></span></h2>
                  <h2 class="heading-minitext mb-1"><strong>Start Date:</strong> <span
                        id="businessDetailSubStart"></span></h2>
                  <h2 class="heading-minitext mb-1"><strong>End Date:</strong> <span id="businessDetailSubEnd"></span>
                  </h2>
                  <h2 class="heading-minitext mb-1"><strong>Activated By:</strong> <span
                        id="businessDetailSubActivatedBy"></span></h2>
               </div>

               <div class="center-button mb-2 mt-3">
                  <button class="hero-btn-dark mt-2 mb-1 refreshBusinessDetailsBtn has-spinner" type="button">
                     <span class="btn-text">Refresh Details</span>
                     <span class="btn-spinner hidden"></span>
                  </button>
               </div>

            </div>
         </div>

         <div class="close closeModal">&times;</div>
      </div>
   </div>



   <!-- profile Slider -->
   <div class="profile-slider-overlay "></div>

   <div class="profile-slider-content ">
      <div class="slider-wrapper">

         <!-- profile View -->
         <div class="profile-view ">
            <div class="profile-slider-header">
               <h2 class="heading-text">Your profile</h2>
               <div class="close closeModal close-profile-btn" id="">&times;</div>
            </div>

            <form id="profile-form">
               <!-- First  NAME -->
               <div class="slider-form_input">
                  <label for="userProfileFirstName">First Name</label>

                  <div class="penEdit-input-container">
                     <input class="userProfileFirstName" id="userProfileFirstName" type="text"
                        name="userProfileFirstName" placeholder="Enter First Name" required>
                     <i class="fa-solid penEditIcon fa-pen-to-square"></i>

                  </div>


               </div>

               <!-- Last Name -->
               <div class="slider-form_input">
                  <label for="userProfileLastName">Last Name</label>

                  <div class="penEdit-input-container">
                     <input class="userProfileLastName" id="userProfileLastName" type="text" name="userProfileLastName"
                        placeholder="Enter Last Name" required>
                     <i class="fa-solid penEditIcon fa-pen-to-square"></i>

                  </div>

               </div>

               <!-- USer Address -->
               <div class="slider-form_input">
                  <label for="userProfileAddress">Address</label>

                  <div class="penEdit-input-container">
                     <input class="userProfileAddress" id="userProfileAddress" type="text" placeholder="Enter Address"
                        name="userProfileAddress" required>
                     <i class="fa-solid penEditIcon fa-pen-to-square"></i>

                  </div>
               </div>

               <!-- PHONE NUMBER -->
               <div class="slider-form_input">
                  <label for="userProfilePhoneNumber">Phone Number</label>

                  <div class="penEdit-input-container">
                     <input class="userProfilePhoneNumber" id="userProfilePhoneNumber" type="number"
                        placeholder="Enter Phone Number" name="userProfilePhoneNumber" required>
                     <i class="fa-solid penEditIcon fa-pen-to-square"></i>

                  </div>
               </div>

               <!-- USer Email -->
               <div class="slider-form_input">
                  <label for="userProfileEmail">Email</label>

                  <input class="userProfileEmail" id="userProfileEmail" type="text" placeholder="Enter Email"
                     name="userProfileEmail" disabled>
               </div>

               <!-- USer Date Of Birth -->
               <div class="slider-form_input">
                  <label for="userProfileDateOfBirth">Date Of Birth</label>

                  <input class="userProfileDateOfBirth" id="userProfileDate Of Birth" type="text"
                     placeholder="Enter DateOfBirth" name="userProfileDateOfBirth" disabled>
               </div>

               <!-- USer State Of Origin -->
               <div class="slider-form_input">
                  <label for="userProfileStateOfOrigin">State Of Origin</label>

                  <input class="userProfileStateOfOrigin" id="userProfileStateOfOrigin" type="text"
                     placeholder="Enter State Of Origin" name="userProfileStateOfOrigin" disabled>
               </div>

               <!-- USer lga -->
               <div class="slider-form_input">
                  <label for="userProfilelga">LGA</label>

                  <input class="userProfilelga" id="userProfilelga" type="text" placeholder="Enter LGA"
                     name="userProfilelga" disabled>
               </div>

               <!-- USer Account Type -->
               <div class="slider-form_input">
                  <label for="userProfileAccountType">Account Type</label>

                  <input class="userProfileAccountType" id="userProfileAccountType" type="text"
                     placeholder="Enter Account Type" name="userProfileAccountType" disabled>
               </div>

               <!-- USer  Service Permission -->
               <div class="slider-form_input">
                  <label for="userProfileServicePermission">Service Permission</label>

                  <input class="userProfileServicePermission" id="userProfileServicePermission" type="text"
                     placeholder="Enter Service Permission" name="userProfileServicePermission" disabled>
               </div>

               <!-- USer  Business Name -->
               <div class="slider-form_input">
                  <label for="userProfileBusinessName">Business Name</label>

                  <input class="userProfileBusinessName" id="userProfileBusinessName" type="text"
                     placeholder="Enter Business Name" name="userProfileBusinessName" disabled>
               </div>

               <!-- Update Button -->
               <div class="center-button">
                  <button class="hero-btn-dark mb-2 updateProfileModalBtn has-spinner" type="submit">
                     <span class="btn-text">Update Profile</span>
                     <span class="btn-spinner hidden"></span>
                  </button>
                  <!-- <button class="hero-btn-dark sellStockActionButton">Sell</button> -->
               </div>


            </form>

            <form id="updatePassword-form">

               <!-- Current Password -->
               <div class="slider-form_input">
                  <label for="currentPassword">Current Password</label>

                  <div class="password-container">

                     <input class="" id="currentPassword" type="password" placeholder="Enter Current Password"
                        name="currentPassword" required>

                     <small id="same-password" class="error-text" style="color: red; display: none;"> </small>

                  </div>
               </div>

               <!-- New Password -->
               <div class="slider-form_input">
                  <label for="newPassword">New Password</label>

                  <div class="password-container">

                     <input class="" id="newPassword" type="password" placeholder="Enter New Password"
                        name="newPassword" required>

                     <small id="password-length" class="error-text" style="color: red; display: none;"> </small>
                  </div>
               </div>

               <!-- Confirm New Password -->
               <div class="slider-form_input">
                  <label for="confirmNewPassword"> Confirm New Password</label>

                  <div class="password-container">

                     <input class="" id="confirmNewPassword" type="password" placeholder=" Confirm New Password"
                        name="confirmNewPassword" required>

                     <small id="password-mismatch" class="error-text" style="color: red; display: none;"> </small>


                  </div>
               </div>

               <div class="center-button">
                  <button class="hero-btn-dark mb-2 updatePasswordSubmitBtn has-spinner" type="submit">
                     <span class="btn-text">Update Password</span>
                     <span class="btn-spinner hidden"></span>
                  </button>
               </div>
            </form>
         </div>

      </div>

   </div>

</body>

</html>